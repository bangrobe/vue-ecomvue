(function(t){function e(e){for(var n,o,s=e[0],i=e[1],u=e[2],l=0,b=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&b.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);d&&d(e);while(b.length)b.shift()();return a.push.apply(a,u||[]),c()}function c(){for(var t,e=0;e<a.length;e++){for(var c=a[e],n=!0,o=1;o<c.length;o++){var i=c[o];0!==r[i]&&(n=!1)}n&&(a.splice(e--,1),t=s(s.s=c[0]))}return t}var n={},r={app:0},a=[];function o(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"ace0b5d7"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var c=n[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.e=function(t){var e=[],c=r[t];if(0!==c)if(c)e.push(c[2]);else{var n=new Promise((function(e,n){c=r[t]=[e,n]}));e.push(c[2]=n);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=o(t);var u=new Error;a=function(e){i.onerror=i.onload=null,clearTimeout(l);var c=r[t];if(0!==c){if(c){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",u.name="ChunkLoadError",u.type=n,u.request=a,c[1](u)}r[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:i})}),12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,c){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(c,n,function(e){return t[e]}.bind(null,n));return c},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=u;a.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("56d7")},"56d7":function(t,e,c){"use strict";c.r(e);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23"),r={id:"wrapper"},a=Object(n["g"])("div",{class:"lds-dual-ring"},null,-1),o={class:"section"},s=Object(n["g"])("footer",{class:"footer"},[Object(n["g"])("p",{class:"has-text-centered"},"This is footer")],-1);function i(t,e,c,i,u,l){var d=Object(n["u"])("Navbar"),b=Object(n["u"])("router-view");return Object(n["p"])(),Object(n["d"])("div",r,[Object(n["g"])(d,{cart:u.cart},null,8,["cart"]),Object(n["g"])("div",{class:["is-loading-bar has-text-centered",{"is-loading":t.$store.state.isLoading}]},[a],2),Object(n["g"])("section",o,[Object(n["g"])(b)]),s])}var u=c("bc3a"),l=c.n(u),d={class:"navbar is-dark",role:"navigation","aria-label":"main navigation"},b={class:"navbar-brand"},O=Object(n["g"])("a",{class:"navbar-item",href:"/"},[Object(n["g"])("h1",{class:"is-size-4"},"DFashion")],-1),m=Object(n["g"])("span",{"aria-hidden":"true"},null,-1),g=Object(n["g"])("span",{"aria-hidden":"true"},null,-1),p=Object(n["g"])("span",{"aria-hidden":"true"},null,-1),j={class:"navbar-start"},h=Object(n["f"])(" Home "),f=Object(n["g"])("div",{class:"navbar-item"},[Object(n["g"])("form",{method:"get",action:"/search"},[Object(n["g"])("div",{class:"field has-addons"},[Object(n["g"])("div",{class:"control"},[Object(n["g"])("input",{type:"text",class:"input",placeholder:"What are you looking for?",name:"query"})]),Object(n["g"])("div",{class:"control"},[Object(n["g"])("button",{class:"button is-success"},[Object(n["g"])("span",{class:"icon"},[Object(n["g"])("i",{class:"fas fa-search"})])])])])])],-1),v={class:"navbar-end"},y=Object(n["f"])("Summer"),w=Object(n["f"])("Winter"),k={class:"navbar-item"},S={class:"buttons"},T=Object(n["f"])("Log in"),_=Object(n["f"])("Register"),I=Object(n["f"])("My Account"),x=Object(n["g"])("span",{class:"icon"},[Object(n["g"])("i",{class:"fas fa-shopping-cart"})],-1);function A(t,e,c,r,a,o){var s=Object(n["u"])("router-link");return Object(n["p"])(),Object(n["d"])("nav",d,[Object(n["g"])("div",b,[O,Object(n["g"])("a",{role:"button",class:["navbar-burger",{"is-active":a.isHamburgerOpen}],onClick:e[1]||(e[1]=function(){return o.openHamburgerMenu&&o.openHamburgerMenu.apply(o,arguments)}),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},[m,g,p],2)]),Object(n["g"])("div",{class:["navbar-menu",{"is-active":a.isHamburgerOpen}]},[Object(n["g"])("div",j,[Object(n["g"])(s,{to:"/",class:"navbar-item"},{default:Object(n["A"])((function(){return[h]})),_:1}),f]),Object(n["g"])("div",v,[Object(n["g"])(s,{to:"/summer",class:"navbar-item"},{default:Object(n["A"])((function(){return[y]})),_:1}),Object(n["g"])(s,{to:"/winter",class:"navbar-item"},{default:Object(n["A"])((function(){return[w]})),_:1}),Object(n["g"])("div",k,[Object(n["g"])("div",S,[t.$store.state.isAuthenticated?(Object(n["p"])(),Object(n["d"])(s,{key:1,to:"/myaccount",class:"button is-info"},{default:Object(n["A"])((function(){return[I]})),_:1})):(Object(n["p"])(),Object(n["d"])(n["a"],{key:0},[Object(n["g"])(s,{to:"/login",class:"button is-light"},{default:Object(n["A"])((function(){return[T]})),_:1}),Object(n["g"])(s,{to:"/register",class:"button is-primary"},{default:Object(n["A"])((function(){return[_]})),_:1})],64)),Object(n["g"])(s,{to:"/cart",class:"button is-success"},{default:Object(n["A"])((function(){return[x,Object(n["g"])("span",null,"Cart ("+Object(n["w"])(o.cartTotalLength)+")",1)]})),_:1})])])])],2)])}var P={props:{cart:{type:Object,default:{}}},data:function(){return{isHamburgerOpen:!1}},methods:{openHamburgerMenu:function(){this.isHamburgerOpen=!this.isHamburgerOpen}},computed:{cartTotalLength:function(){for(var t=0,e=0;e<this.cart.items.length;e++)t+=this.cart.items[e].quantity;return t}},mounted:function(){this.cartTotalLength,console.log(this.cartTotalLength)}};P.render=A;var C=P,L={components:{Navbar:C},data:function(){return{cart:{items:[]}}},beforeCreate:function(){this.$store.commit("INITIALIZE_STORE");var t=this.$store.state.token;l.a.defaults.headers.common["Authorization"]=t?"Token "+t:""},mounted:function(){this.cart=this.$store.state.cart}};c("bd45");L.render=i;var q=L,$=(c("d3b7"),c("3ca3"),c("ddb0"),c("6c02")),R={class:"home"},E=Object(n["g"])("section",{class:"hero is-medium is-dark mb-6"},[Object(n["g"])("div",{class:"hero-body has-text-centered"},[Object(n["g"])("p",{class:"title mb-6"}," Welcome to Django Fashion "),Object(n["g"])("p",{class:"subtitle"}," The best fashion store on localhost ")])],-1),N={class:"columns is-multiline"},F=Object(n["g"])("div",{class:"column is-12"},[Object(n["g"])("h2",{class:"is-size-2 has-text-centered"},"Latest Products")],-1);function D(t,e,c,r,a,o){var s=Object(n["u"])("ProductBox");return Object(n["p"])(),Object(n["d"])("div",R,[E,Object(n["g"])("div",N,[F,(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(a.latestProduct,(function(t){return Object(n["p"])(),Object(n["d"])(s,{key:t.id,product:t},null,8,["product"])})),128))])])}var B=c("1da1"),H=(c("96cf"),c("b0c0"),{class:"column is-3"}),z={class:"box"},U={class:"image mb-4"},M={class:"is-size-4"},V={class:"is-size-6 has-text-grey"},G=Object(n["f"])("View Detail");function J(t,e,c,r,a,o){var s=Object(n["u"])("router-link");return Object(n["p"])(),Object(n["d"])("div",H,[Object(n["g"])("div",z,[Object(n["g"])("figure",U,[Object(n["g"])("img",{src:c.product.get_thumbnail},null,8,["src"])]),Object(n["g"])("h3",M,Object(n["w"])(c.product.name),1),Object(n["g"])("p",V,"$"+Object(n["w"])(c.product.price),1),Object(n["g"])(s,{to:c.product.get_absolute_url,class:"button is-dark mt-4"},{default:Object(n["A"])((function(){return[G]})),_:1},8,["to"])])])}var Q={name:"ProductBox",props:{product:{type:Object,default:{}}}};Q.render=J;var Z=Q,K={name:"Home",components:{ProductBox:Z},data:function(){return{latestProduct:[]}},methods:{getLatestProduct:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_ISLOADING",!0),e.next=3,l.a.get("/api/v1/latest-products").then((function(e){t.latestProduct=e.data})).catch((function(t){console.log(t)}));case 3:t.$store.commit("SET_ISLOADING",!1);case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.getLatestProduct(),document.title="Home | DFashion"}};K.render=D;var W=K,Y=(c("a4d3"),c("e01a"),{class:"page-product"}),X={class:"columns is-multiline"},tt={class:"column is-9"},et={class:"image mb-6"},ct={class:"title"},nt={class:"column is-3"},rt=Object(n["g"])("h2",{class:"subtitle"},"Information",-1),at=Object(n["g"])("strong",null,"Price: ",-1),ot={class:"field has-addons mt-6"},st={class:"control"},it={class:"control"};function ut(t,e,c,r,a,o){return Object(n["p"])(),Object(n["d"])("div",Y,[Object(n["g"])("div",X,[Object(n["g"])("div",tt,[Object(n["g"])("figure",et,[Object(n["g"])("img",{src:a.product.get_image},null,8,["src"])]),Object(n["g"])("h1",ct,Object(n["w"])(a.product.name),1),Object(n["g"])("p",null,Object(n["w"])(a.product.description),1)]),Object(n["g"])("div",nt,[rt,Object(n["g"])("p",null,[at,Object(n["f"])("$"+Object(n["w"])(a.product.price),1)]),Object(n["g"])("div",ot,[Object(n["g"])("div",st,[Object(n["B"])(Object(n["g"])("input",{type:"number",class:"input",min:"1","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.quantity=t})},null,512),[[n["y"],a.quantity]])]),Object(n["g"])("div",it,[Object(n["g"])("a",{class:"button is-dark",onClick:e[2]||(e[2]=function(t){return o.addToCart()})},"Add to cart")])])])])])}c("99af");var lt=c("4b44"),dt={name:"Product",data:function(){return{quantity:1,product:{}}},methods:{getProduct:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){var c,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_ISLOADING",!0),c=t.$route.params.category_slug,n=t.$route.params.product_slug,e.next=5,l.a.get("/api/v1/products/".concat(c,"/").concat(n,"/")).then((function(e){t.product=e.data,document.title=t.product.name+" | DFashion"})).catch((function(t){console.log(t)}));case 5:t.$store.commit("SET_ISLOADING",!1);case 6:case"end":return e.stop()}}),e)})))()},addToCart:function(){(isNaN(this.quantity)||this.quantity<1)&&(this.quantity=1);var t={product:this.product,quantity:this.quantity};this.$store.commit("ADD_TO_CART",t),Object(lt["toast"])({message:"The product was added to cart",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})}},mounted:function(){this.getProduct()}};dt.render=ut;var bt=dt,Ot={class:"page-category"},mt={class:"columns is-multiline"},gt={class:"column is-12"},pt={class:"is-size-2 has-text-centered"};function jt(t,e,c,r,a,o){var s=Object(n["u"])("ProductBox");return Object(n["p"])(),Object(n["d"])("div",Ot,[Object(n["g"])("div",mt,[Object(n["g"])("div",gt,[Object(n["g"])("h2",pt,Object(n["w"])(a.category.name),1)]),(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(a.category.products,(function(t){return Object(n["p"])(),Object(n["d"])(s,{key:t.id,product:t},null,8,["product"])})),128))])])}var ht={name:"Category",components:{ProductBox:Z},data:function(){return{category:{products:[]}}},methods:{getCategory:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_ISLOADING",!0),c=t.$route.params.category_slug,e.next=4,l.a.get("/api/v1/products/".concat(c)).then((function(e){t.category=e.data,console.log(t.category),document.title=t.category.name})).catch((function(t){console.log(t),Object(lt["toast"])({message:"Something went wrong. Please try again.",type:"is-danger",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})}));case 4:t.$store.commit("SET_ISLOADING",!1);case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.getCategory()},watch:{$route:function(t,e){"Category"===t.name&&this.getCategory()}}};ht.render=jt;var ft=ht,vt={class:"page-search"},yt={class:"columns is-multiline"},wt={class:"column is-12"},kt=Object(n["g"])("h1",{class:"title"},"Search",-1),St={class:"is-size-5 has-text-grey"};function Tt(t,e,c,r,a,o){var s=Object(n["u"])("ProductBox");return Object(n["p"])(),Object(n["d"])("div",vt,[Object(n["g"])("div",yt,[Object(n["g"])("div",wt,[kt,Object(n["g"])("h2",St,"Search term: "+Object(n["w"])(a.query),1)]),(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(a.products,(function(t){return Object(n["p"])(),Object(n["d"])(s,{key:t.id,product:t},null,8,["product"])})),128))])])}c("ac1f"),c("841c"),c("2b3d");var _t={name:"Search",components:{ProductBox:Z},data:function(){return{products:[],query:""}},methods:{performSearch:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_ISLOADING",!0),e.next=3,l.a.post("/api/v1/products/search/",{query:t.query}).then((function(e){t.products=e.data,console.log(e.data)})).catch((function(t){console.log(t)}));case 3:t.$store.commit("SET_ISLOADING",!1);case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){document.title="Search | DFashion";var t=window.location.search.substring(1),e=new URLSearchParams(t);e.get("query")&&(this.query=e.get("query"),this.performSearch())}};_t.render=Tt;var It=_t,xt=(c("b680"),{class:"page-cart"}),At={class:"columns is-multiline"},Pt={class:"column is-12"},Ct={class:"title"},Lt={class:"column is-12 box"},qt={key:0,class:"table is-fullwidth"},$t=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",null,"Product"),Object(n["g"])("th",null,"Price"),Object(n["g"])("th",null,"Quantity"),Object(n["g"])("th",null,"Total"),Object(n["g"])("th")])],-1),Rt={key:1},Et={class:"column is-12 box"},Nt=Object(n["g"])("h2",{class:"subtitle"},"Summary",-1),Ft=Object(n["g"])("hr",null,null,-1),Dt=Object(n["f"])("Proceed to checkout");function Bt(t,e,c,r,a,o){var s=Object(n["u"])("CartItem"),i=Object(n["u"])("router-link");return Object(n["p"])(),Object(n["d"])("div",xt,[Object(n["g"])("div",At,[Object(n["g"])("div",Pt,[Object(n["g"])("h1",Ct,"Cart - "+Object(n["w"])(o.cartTotalLength),1)]),Object(n["g"])("div",Lt,[o.cartTotalLength?(Object(n["p"])(),Object(n["d"])("table",qt,[$t,Object(n["g"])("tbody",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(a.cart.items,(function(t){return Object(n["p"])(),Object(n["d"])(s,{key:t.id,initialItem:t,onRemoveFromCart:o.removeFromCart},null,8,["initialItem","onRemoveFromCart"])})),128))])])):(Object(n["p"])(),Object(n["d"])("p",Rt,"Your cart is empty now!"))]),Object(n["g"])("div",Et,[Nt,Object(n["g"])("strong",null," $"+Object(n["w"])(o.cartTotalPrice.toFixed(2)),1),Object(n["f"])(", "+Object(n["w"])(o.cartTotalLength)+" items ",1),Ft,Object(n["g"])(i,{to:"/checkout",class:"button is-dark"},{default:Object(n["A"])((function(){return[Dt]})),_:1})])])])}c("4de4");function Ht(t,e,c,r,a,o){var s=Object(n["u"])("router-link");return Object(n["p"])(),Object(n["d"])("tr",null,[Object(n["g"])("td",null,[Object(n["g"])(s,{to:a.item.product.get_absolute_url},{default:Object(n["A"])((function(){return[Object(n["f"])(Object(n["w"])(a.item.product.name),1)]})),_:1},8,["to"])]),Object(n["g"])("td",null,"$"+Object(n["w"])(a.item.product.price),1),Object(n["g"])("td",null,[Object(n["f"])(Object(n["w"])(a.item.quantity)+" ",1),Object(n["g"])("a",{onClick:e[1]||(e[1]=function(t){return o.decrementQuantity(a.item)}),class:"button is-small"},"-"),Object(n["g"])("a",{onClick:e[2]||(e[2]=function(t){return o.incrementQuantity(a.item)}),class:"button is-small"},"+")]),Object(n["g"])("td",null,"$ "+Object(n["w"])(o.getItemTotal(a.item).toFixed(2)),1),Object(n["g"])("td",null,[Object(n["g"])("button",{class:"delete",onClick:e[3]||(e[3]=function(t){return o.removeFromCart(a.item)})})])])}var zt={name:"CartItem",props:{initialItem:Object},data:function(){return{item:this.initialItem}},methods:{getItemTotal:function(t){return t.quantity*t.product.price},decrementQuantity:function(t){t.quantity-=1,0===t.quantity&&this.$emit("removeFromCart",t),this.updateCart()},incrementQuantity:function(t){t.quantity+=1,this.updateCart()},updateCart:function(){localStorage.setItem("cart",JSON.stringify(this.$store.state.cart))},removeFromCart:function(t){this.$emit("removeFromCart",t),this.updateCart()}}};zt.render=Ht;var Ut=zt,Mt={name:"Cart",components:{CartItem:Ut},data:function(){return{cart:{items:[]}}},mounted:function(){this.cart=this.$store.state.cart},methods:{removeFromCart:function(t){this.cart.items=this.cart.items.filter((function(e){return e.product.id!==t.product.id}))}},computed:{cartTotalLength:function(){return this.cart.items.reduce((function(t,e){return t+e.quantity}),0)},cartTotalPrice:function(){return this.cart.items.reduce((function(t,e){return t+e.product.price*e.quantity}),0)}}};Mt.render=Bt;var Vt=Mt,Gt={class:"page-checkout"},Jt={class:"columns is-multiline"},Qt=Object(n["g"])("div",{class:"columns is-12"},[Object(n["g"])("h1",{class:"title"},"Checkout")],-1),Zt={class:"column is-12 box"},Kt={class:"table is-fullwidth"},Wt=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",null,"Product"),Object(n["g"])("th",null,"Price"),Object(n["g"])("th",null,"Quantity"),Object(n["g"])("th",null,"Total")])],-1),Yt=Object(n["g"])("td",{colspan:"2"},[Object(n["g"])("strong",null,"Total")],-1),Xt={class:"column is-12",box:""},te=Object(n["g"])("h2",{class:"subtitle"},"Shipping Details",-1),ee=Object(n["g"])("p",{class:"has-text-grey mb-4"},"* Required Field",-1),ce={class:"columns is-multiline"},ne={class:"column is-6"},re={class:"field"},ae=Object(n["g"])("label",{for:"first_name"},"First name",-1),oe={class:"control"},se={class:"field"},ie=Object(n["g"])("label",{for:"last_name"},"Last name",-1),ue={class:"control"},le={class:"field"},de=Object(n["g"])("label",{for:"email"},"Email",-1),be={class:"control"},Oe={class:"field"},me=Object(n["g"])("label",{for:"zipcode"},"Zip Code",-1),ge={class:"control"},pe={class:"column is-6"},je={class:"field"},he=Object(n["g"])("label",{for:"first_name"},"Phone",-1),fe={class:"control"},ve={class:"field"},ye=Object(n["g"])("label",{for:"first_name"},"Address",-1),we={class:"control"},ke={class:"field"},Se=Object(n["g"])("label",{for:"last_name"},"Place",-1),Te={class:"control"},_e={key:0,class:"is-notification is-danger mt-4"},Ie=Object(n["g"])("hr",null,null,-1),xe=Object(n["g"])("div",{id:"card-element",class:"mb-5"},null,-1),Ae={ref:"card"},Pe=Object(n["g"])("hr",null,null,-1);function Ce(t,e,c,r,a,o){return Object(n["p"])(),Object(n["d"])("div",Gt,[Object(n["g"])("div",Jt,[Qt,Object(n["g"])("div",Zt,[Object(n["g"])("table",Kt,[Wt,Object(n["g"])("tbody",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(a.cart.items,(function(t){return Object(n["p"])(),Object(n["d"])("tr",{key:t.product.id},[Object(n["g"])("td",null,Object(n["w"])(t.product.name),1),Object(n["g"])("td",null,"$"+Object(n["w"])(t.product.price),1),Object(n["g"])("td",null,Object(n["w"])(t.quantity),1),Object(n["g"])("td",null,"$"+Object(n["w"])(o.getItemTotal(t).toFixed(2)),1)])})),128))]),Object(n["g"])("tfoot",null,[Object(n["g"])("tr",null,[Yt,Object(n["g"])("td",null,Object(n["w"])(o.cartTotalLength),1),Object(n["g"])("td",null,"$"+Object(n["w"])(o.cartTotalPrice.toFixed(2)),1)])])])]),Object(n["g"])("div",Xt,[te,ee,Object(n["g"])("div",ce,[Object(n["g"])("div",ne,[Object(n["g"])("div",re,[ae,Object(n["g"])("div",oe,[Object(n["B"])(Object(n["g"])("input",{type:"text",class:"input","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.first_name=t})},null,512),[[n["y"],a.first_name]])])]),Object(n["g"])("div",se,[ie,Object(n["g"])("div",ue,[Object(n["B"])(Object(n["g"])("input",{type:"text",class:"input","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.last_name=t})},null,512),[[n["y"],a.last_name]])])]),Object(n["g"])("div",le,[de,Object(n["g"])("div",be,[Object(n["B"])(Object(n["g"])("input",{type:"email",class:"input","onUpdate:modelValue":e[3]||(e[3]=function(t){return a.email=t})},null,512),[[n["y"],a.email]])])]),Object(n["g"])("div",Oe,[me,Object(n["g"])("div",ge,[Object(n["B"])(Object(n["g"])("input",{type:"text",class:"input","onUpdate:modelValue":e[4]||(e[4]=function(t){return a.zipcode=t})},null,512),[[n["y"],a.zipcode]])])])]),Object(n["g"])("div",pe,[Object(n["g"])("div",je,[he,Object(n["g"])("div",fe,[Object(n["B"])(Object(n["g"])("input",{type:"text",class:"input","onUpdate:modelValue":e[5]||(e[5]=function(t){return a.phone=t})},null,512),[[n["y"],a.phone]])])]),Object(n["g"])("div",ve,[ye,Object(n["g"])("div",we,[Object(n["B"])(Object(n["g"])("input",{type:"text",class:"input","onUpdate:modelValue":e[6]||(e[6]=function(t){return a.address=t})},null,512),[[n["y"],a.address]])])]),Object(n["g"])("div",ke,[Se,Object(n["g"])("div",Te,[Object(n["B"])(Object(n["g"])("input",{type:"text",class:"input","onUpdate:modelValue":e[7]||(e[7]=function(t){return a.place=t})},null,512),[[n["y"],a.place]])])])])]),a.errors.length?(Object(n["p"])(),Object(n["d"])("div",_e,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(a.errors,(function(t){return Object(n["p"])(),Object(n["d"])("p",{key:t},Object(n["w"])(t),1)})),128))])):Object(n["e"])("",!0),Ie,xe,Object(n["g"])("div",Ae,null,512),o.cartTotalLength?(Object(n["p"])(),Object(n["d"])(n["a"],{key:1},[Pe,Object(n["g"])("button",{class:"button is-dark",onClick:e[8]||(e[8]=function(t){return o.submitForm()})}," Pay with Stripe ")],64)):Object(n["e"])("",!0)])])])}var Le={name:"Checkout",data:function(){return{cart:{items:[]},stripe:{},card:{},first_name:"",last_name:"",email:"",phone:"",address:"",zipcode:"",place:"",errors:[]}},mounted:function(){document.title="Checkout | DFashion",this.cart=this.$store.state.cart,console.log(this.cartTotalLength),this.stripe=Stripe("pk_test_51IT1miEDhYmQiN9tbPNtCsZRRJ9ZH12cO7XUZEZCJFUqzqQfGdKTcgfNIWjnqiaYClOTcA16X5kFn9HojDTF1unm00RrxmhdM1");var t=this.stripe.elements();this.card=t.create("card",{hidePostalCode:!0}),this.card.mount("#card-element")},methods:{getItemTotal:function(t){return t.quantity*t.product.price},submitForm:function(){var t=this;this.errors=[],""===this.email&&this.errors.push("The email is missing"),""===this.address&&this.errors.push("The address is missing"),this.errors.length||(this.$store.commit("SET_ISLOADING",!0),this.stripe.createToken(this.card).then((function(e){e.error?(t.$store.commit("SET_ISLOADING",!1),t.errors.push("Something went wrong with Stripe. Please try again"),console.log(e.error.message)):t.stripeTokenHandler(e.token)})))},stripeTokenHandler:function(t){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function c(){var n,r,a,o,s;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:for(n=[],r=0;r<e.cart.items.length;r++)a=e.cart.items[r],o={product:a.product.id,quantity:a.quantity,price:a.product.price*a.quantity},n.push(o);return s={first_name:e.first_name,last_name:e.last_name,email:e.email,address:e.address,zipcode:e.zipcode,place:e.place,phone:e.phone,items:n,stripe_token:t.id},c.next=5,l.a.post("/api/v1/checkout/",s).then((function(t){e.$store.commit("CLEAR_CART"),e.$router.push("/checkout/success")})).catch((function(t){e.errors.push("Something went wrong. Please try again!"),console.log(t)}));case 5:e.$store.commit("SET_ISLOADING",!1);case 6:case"end":return c.stop()}}),c)})))()}},computed:{cartTotalPrice:function(){return this.cart.items.reduce((function(t,e){return t+e.product.price*e.quantity}),0)},cartTotalLength:function(){return this.cart.items.reduce((function(t,e){return t+e.quantity}),0)}}};Le.render=Ce;var qe=Le,$e={class:"page-register"},Re={class:"columns"},Ee={class:"column is-4 is-offset-4"},Ne=Object(n["g"])("h1",{class:"title"},"Register",-1),Fe={class:"field"},De=Object(n["g"])("label",null,"Username",-1),Be={class:"control"},He={class:"field"},ze=Object(n["g"])("label",null,"Password",-1),Ue={class:"control"},Me={class:"field"},Ve=Object(n["g"])("label",null,"Repeat Password",-1),Ge={class:"control"},Je={key:0,class:"notification is-danger"},Qe={class:"field"},Ze=Object(n["g"])("div",{class:"control"},[Object(n["g"])("button",{class:"button is-dark"},"Register")],-1),Ke=Object(n["g"])("hr",null,null,-1),We=Object(n["f"])(" Or "),Ye=Object(n["f"])("click here"),Xe=Object(n["f"])(" to login! ");function tc(t,e,c,r,a,o){var s=Object(n["u"])("router-link");return Object(n["p"])(),Object(n["d"])("div",$e,[Object(n["g"])("div",Re,[Object(n["g"])("div",Ee,[Ne,Object(n["g"])("form",{onSubmit:e[4]||(e[4]=Object(n["C"])((function(t){return o.submitForm()}),["prevent"]))},[Object(n["g"])("div",Fe,[De,Object(n["g"])("div",Be,[Object(n["B"])(Object(n["g"])("input",{type:"text",class:"input","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.username=t})},null,512),[[n["y"],a.username]])])]),Object(n["g"])("div",He,[ze,Object(n["g"])("div",Ue,[Object(n["B"])(Object(n["g"])("input",{type:"password",class:"input","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.password=t})},null,512),[[n["y"],a.password]])])]),Object(n["g"])("div",Me,[Ve,Object(n["g"])("div",Ge,[Object(n["B"])(Object(n["g"])("input",{type:"password",class:"input","onUpdate:modelValue":e[3]||(e[3]=function(t){return a.password2=t})},null,512),[[n["y"],a.password2]])])]),a.errors.length?(Object(n["p"])(),Object(n["d"])("div",Je,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(a.errors,(function(t){return Object(n["p"])(),Object(n["d"])("p",{key:t},Object(n["w"])(t),1)})),128))])):Object(n["e"])("",!0),Object(n["g"])("div",Qe,[Ze,Ke,Object(n["g"])("p",null,[We,Object(n["g"])(s,{to:"/login"},{default:Object(n["A"])((function(){return[Ye]})),_:1}),Xe])])],32)])])])}var ec={name:"Register",data:function(){return{username:"",password:"",password2:"",errors:[]}},methods:{submitForm:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.errors=[],""===t.username&&t.errors.push("The username is missing!"),""!==t.password&&""!==t.password2||t.errors.push("Password must be not empty!"),t.password2!==t.password&&t.errors.push("The password doesn't match!"),t.errors.length){e.next=8;break}return c={username:t.username,password:t.password},e.next=8,l.a.post("/api/v1/users/",c).then((function(e){Object(lt["toast"])({message:"Account created, you should login now",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"}),t.$router.push("/login")})).catch((function(e){if(e.response){for(var c in e.response.data)t.errors.push("".concat(c,": ").concat(e.response.data[c]));console.log(JSON.stringify(e.response.data))}else e.message&&(t.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(e)))}));case 8:case"end":return e.stop()}}),e)})))()}},mounted:function(){document.title="Register | DFashion"}};ec.render=tc;var cc=ec,nc={class:"page-login"},rc={class:"columns"},ac={class:"column is-4 is-offset-4"},oc=Object(n["g"])("h1",{class:"title"},"Login",-1),sc={class:"field"},ic=Object(n["g"])("label",null,"Username",-1),uc={class:"control"},lc={class:"field"},dc=Object(n["g"])("label",null,"Password",-1),bc={class:"control"},Oc={key:0,class:"notification is-danger"},mc={class:"field"},gc=Object(n["g"])("div",{class:"control"},[Object(n["g"])("button",{class:"button is-dark"},"Login")],-1),pc=Object(n["g"])("hr",null,null,-1),jc=Object(n["f"])(" Not have account yet? "),hc=Object(n["f"])("click here"),fc=Object(n["f"])(" to register! ");function vc(t,e,c,r,a,o){var s=Object(n["u"])("router-link");return Object(n["p"])(),Object(n["d"])("div",nc,[Object(n["g"])("div",rc,[Object(n["g"])("div",ac,[oc,Object(n["g"])("form",{onSubmit:e[3]||(e[3]=Object(n["C"])((function(t){return o.submitForm()}),["prevent"]))},[Object(n["g"])("div",sc,[ic,Object(n["g"])("div",uc,[Object(n["B"])(Object(n["g"])("input",{type:"text",class:"input","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.username=t})},null,512),[[n["y"],a.username]])])]),Object(n["g"])("div",lc,[dc,Object(n["g"])("div",bc,[Object(n["B"])(Object(n["g"])("input",{type:"password",class:"input","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.password=t})},null,512),[[n["y"],a.password]])])]),a.errors.length?(Object(n["p"])(),Object(n["d"])("div",Oc,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(a.errors,(function(t){return Object(n["p"])(),Object(n["d"])("p",{key:t},Object(n["w"])(t),1)})),128))])):Object(n["e"])("",!0),Object(n["g"])("div",mc,[gc,pc,Object(n["g"])("p",null,[jc,Object(n["g"])(s,{to:"/register"},{default:Object(n["A"])((function(){return[hc]})),_:1}),fc])])],32)])])])}var yc={name:"Login",data:function(){return{username:"",password:"",errors:[]}},methods:{submitForm:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(l.a.defaults.headers.common["Authorization"]="",localStorage.removeItem("token"),t.errors=[],""===t.username&&t.errors.push("The username is missing!"),""===t.password&&t.errors.push("Password must be not empty!"),t.errors.length){e.next=9;break}return c={username:t.username,password:t.password},e.next=9,l.a.post("/api/v1/token/login/",c).then((function(e){var c=e.data.auth_token;t.$store.commit("SET_TOKEN",c),l.a.defaults.headers.common["Authorization"]="Token "+c,localStorage.setItem("token",c),Object(lt["toast"])({message:"Login successful!",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"});var n=t.$route.query.to||"/cart";t.$router.push(n)})).catch((function(e){if(e.response){for(var c in e.response.data)t.errors.push("".concat(c,": ").concat(e.response.data[c]));console.log(JSON.stringify(e.response.data))}else e.message&&(t.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(e)))}));case 9:case"end":return e.stop()}}),e)})))()}},mounted:function(){document.title="Login | DFashion"}};yc.render=vc;var wc=yc,kc={class:"page-myaccount"},Sc={class:"columns is-multiline"},Tc=Object(n["g"])("div",{class:"column is-12"},[Object(n["g"])("h1",{class:"title"},"My Account")],-1),_c={class:"column is-12"},Ic=Object(n["g"])("h2",{class:"subtitle"},"My orders",-1),xc={class:"column is-12"};function Ac(t,e,c,r,a,o){var s=Object(n["u"])("OrderSummary");return Object(n["p"])(),Object(n["d"])("div",kc,[Object(n["g"])("div",Sc,[Tc,Object(n["g"])("div",_c,[Ic,(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(a.orders,(function(t){return Object(n["p"])(),Object(n["d"])(s,{key:t.id,order:t},null,8,["order"])})),128))]),Object(n["g"])("div",xc,[Object(n["g"])("button",{class:"button is-danger",onClick:e[1]||(e[1]=function(t){return o.logout()})},"Logout")])])])}var Pc={class:"box mb-4"},Cc={class:"is-size-4 mb-6"},Lc=Object(n["g"])("h4",{class:"is-size-5"},"Products",-1),qc={class:"table is-fullwidth"},$c=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",null,"Product"),Object(n["g"])("th",null,"Price"),Object(n["g"])("th",null,"Quantity"),Object(n["g"])("th",null,"Total")])],-1);function Rc(t,e,c,r,a,o){return Object(n["p"])(),Object(n["d"])("div",Pc,[Object(n["g"])("h3",Cc,"Order #"+Object(n["w"])(c.order.id),1),Lc,Object(n["g"])("table",qc,[$c,Object(n["g"])("tbody",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(c.order.items,(function(t){return Object(n["p"])(),Object(n["d"])("tr",{key:t.product.id},[Object(n["g"])("td",null,Object(n["w"])(t.product.name),1),Object(n["g"])("td",null,"$"+Object(n["w"])(t.product.price),1),Object(n["g"])("td",null,Object(n["w"])(t.quantity),1),Object(n["g"])("td",null,"$"+Object(n["w"])(o.getItemTotal(t).toFixed(2)),1)])})),128))])])])}var Ec={name:"OrderSummary",props:{order:Object},methods:{getItemTotal:function(t){return t.quantity*t.product.price},orderTotalLength:function(t){return t.items.reduce((function(t,e){return t+e.quantity}),0)}}};Ec.render=Rc;var Nc=Ec,Fc={name:"MyAccount",components:{OrderSummary:Nc},data:function(){return{orders:[]}},methods:{logout:function(){l.a.defaults.headers.common["Authorization"]="",localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("userid"),this.$store.commit("REMOVE_TOKEN"),this.$router.push("/")},getMyOrders:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_ISLOADING",!0),e.next=3,l.a.get("/api/v1/orders/").then((function(e){t.orders=e.data,console.log(t.orders)})).catch((function(t){console.log(t)}));case 3:t.$store.commit("SET_ISLOADING",!1);case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){document.title="My account | DFashion",this.getMyOrders()}};Fc.render=Ac;var Dc=Fc,Bc={class:"page-success"},Hc=Object(n["g"])("div",{class:"columns is-multiline"},[Object(n["g"])("div",{class:"column is-12"},[Object(n["g"])("h1",{class:"title"},"Thank you"),Object(n["g"])("p",null,"Your order will be processed!")])],-1);function zc(t,e,c,r,a,o){return Object(n["p"])(),Object(n["d"])("div",Bc,[Hc])}var Uc={name:"Success",mounted:function(){document.title="Order success | DFashion"}};Uc.render=zc;var Mc=Uc,Vc=c("5502"),Gc=Object(Vc["a"])({state:{cart:{items:[]},isAuthenticated:!1,token:"",isLoading:!1},mutations:{INITIALIZE_STORE:function(t){localStorage.getItem("cart")?t.cart=JSON.parse(localStorage.getItem("cart")):localStorage.setItem("cart",JSON.stringify(t.cart)),localStorage.getItem("token")?(t.token=localStorage.getItem("token"),t.isAuthenticated=!0):(t.toke="",t.isAuthenticated=!1)},ADD_TO_CART:function(t,e){var c=t.cart.items.filter((function(t){return t.product.id===e.product.id}));c.length?(c[0].quantity=parseInt(c[0].quantity)+parseInt(e.quantity),console.log(c[0].quantity,e.quantity)):t.cart.items.push(e),localStorage.setItem("cart",JSON.stringify(t.cart))},SET_ISLOADING:function(t,e){t.loading=e},SET_TOKEN:function(t,e){t.token=e,t.isAuthenticated=!0},REMOVE_TOKEN:function(t,e){t.token="",t.isAuthenticated=!1},CLEAR_CART:function(t){t.cart={items:[]},localStorage.setItem("cart",JSON.stringify(t.cart))}},actions:{},modules:{}}),Jc=[{path:"/",name:"Home",component:W},{path:"/about",name:"About",component:function(){return c.e("about").then(c.bind(null,"f820"))}},{path:"/:category_slug/:product_slug/",name:"Product",component:bt},{path:"/:category_slug/",name:"Category",component:ft},{path:"/search",name:"Search",component:It},{path:"/cart",name:"Cart",component:Vt},{path:"/checkout",name:"Checkout",component:qe,meta:{requiredLogin:!0}},{path:"/register",name:"Register",component:cc},{path:"/login",name:"Login",component:wc},{path:"/myaccount",name:"MyAccount",component:Dc,meta:{requiredLogin:!0}},{path:"/checkout/success",name:"Success",component:Mc,meta:{requiredLogin:!0}}],Qc=Object($["a"])({history:Object($["b"])("/"),routes:Jc});Qc.beforeEach((function(t,e,c){t.matched.some((function(t){return t.meta.requiredLogin}))&&!Gc.state.isAuthenticated?c({name:"Login",query:{to:t.path}}):c()}));var Zc=Qc;c("b383"),l.a.defaults.baseURL="https://apiecom.coursesbin.com",Object(n["c"])(q).use(Gc).use(Zc,l.a).mount("#app")},"765e":function(t,e,c){},b383:function(t,e,c){},bd45:function(t,e,c){"use strict";c("765e")}});
//# sourceMappingURL=app.75b2c8fb.js.map